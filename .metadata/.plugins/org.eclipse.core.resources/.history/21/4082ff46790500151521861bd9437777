#include <msp430.h>

#define SW1  BIT0	//P2.0
#define SW2  BIT1	//P2.1
#define LED1 BIT5	//P4.5
#define LED2 BIT6	//P4.6

void main(void) {

	WDTCTL = WDTPW | WDTHOLD;	// Stop watchdog timer

	P4DIR |= (LED1 + LED2);//
	P2DIR &= ~(SW1 + SW2);
	P2REN |= (SW1 + SW2);
	P2OUT |= (SW1 + SW2);

	int primeroSW1 = 0;
	int primeroSW2 = 0;
	int quedanPrendidas = 0;

	while(1){

		if(estaApretado1){
			if(primeroSW2 == 0){
				primeroSW1 = 1;
				prendoLed1();
			}else{
				quedanPrendidos = 0;
				apagarTodosLosLeds();
			}
		}else{
			if(quedanPrendidos == 0)
				apagoLed1();
			primeroSW1 = 0;
		}

		if(estaApretado2){
			if(primeroSW1 == 0){
				primeroSW2 = 1;
				prendoLed2();
			}else{
				prendoTodosLosLeds();
				quedanPrendidos = 1;
			}
		}else{
			if(quedanPrendidos == 0)
				apagoLed2();
			primeroSW2 = 0;
		}

		/*
		if(!(P2IN & SW1)){
			// Prendo LED1
			if(primeroSW1 == 1){
				P4OUT |= LED1;
				primeroSW1 = 0;
				if(!(P2IN & SW2)){
					P4OUT &= ~LED1;
					P4OUT &= ~LED2;
					quedanPrendidas = 0;
				}
			}

		}else{
			// Apago el led si no presionan el SW1
			if(primeroSW1 == 0)
				primeroSW1 = 1;
			if(quedanPrendidas == 0)
				P4OUT &= ~LED1;
		}

		if(!(P2IN & SW2)){
			// Prendo LED2
			if(primeroSW2 == 1){
				P4OUT |= LED2;
				primeroSW2 = 0;
				if(!(P2IN & SW1)){
					P4OUT |= LED1;
					P4OUT |= LED2;
					quedanPrendidas = 1;
				}
			}


		}else{
			// Apago el led si no presionan el SW2
			if(primeroSW2 == 0)
				primeroSW2 = 1;
			if(quedanPrendidas == 0)
				P4OUT &= ~LED2;
		}


	}
	*/
}
